modules:
  - type: firebase
    config:
      configFile: /secret/pantel-prod.json
      databaseName: pantel-2decb
      rootPath: ${FIREBASE_ROOT_PATH}
  - type: neo4j
    config:
      host: neo4j
      protocol: bolt+routing
  - type: analytics
    config:
      projectId: pantel-2decb
      dataTrafficTopicId: data-traffic
      purchaseInfoTopicId: purchase-info
  - type: ocs
    config:
      lowBalanceThreshold: 100000000
  - type: pseudonymizer
  - type: api
    config:
      authenticationCachePolicy: maximumSize=10000, expireAfterAccess=10m
      jerseyClient:
        timeout: 2s
  - type: stripe-payment-processor
  - type: firebase-app-notifier
    config:
      configFile: /secret/pantel-prod.json
      databaseName: pantel-2decb
  - type: admin

server:
  applicationConnectors:
    - type: h2c
      port: 8080
      maxConcurrentStreams: 1024
      initialStreamRecvWindow: 65535
  requestLog:
    appenders:
      - type: console
        layout:
          type: json
          customFieldNames:
            level: severity

logging:
  level: INFO
  loggers:
    org.ostelco: DEBUG
    org.dhatim.dropwizard.prometheus.DropwizardMetricsExporter: ERROR
  appenders:
    - type: console
      layout:
        type: json
        customFieldNames:
           level: severity