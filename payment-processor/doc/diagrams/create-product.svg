<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="436px" preserveAspectRatio="none" style="width:798px;height:436px;" version="1.1" viewBox="0 0 798 436" width="798px" zoomAndPan="magnify"><defs><filter height="300%" id="ff764s23fil1l" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="421.6563" style="stroke: #A80036; stroke-width: 1.0;" width="505" x="220" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="451" y="16.0669">Prime</text><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="225.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="29" y="96.2969"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="203.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="264" y="117.4297"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="499" y="146.5625"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="679" y="233.9609"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="175.6953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="34" x2="34" y1="86.2969" y2="339.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="269" x2="269" y1="86.2969" y2="339.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="504" x2="504" y1="86.2969" y2="339.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="684" x2="684" y1="86.2969" y2="339.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="761" x2="761" y1="86.2969" y2="339.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="8" y="82.9951">Admin</text><ellipse cx="34" cy="13" fill="#FEFECE" filter="url(#ff764s23fil1l)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M34,21 L34,48 M21,29 L47,29 M34,48 L21,63 M34,48 L47,63 " fill="none" filter="url(#ff764s23fil1l)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="8" y="351.3545">Admin</text><ellipse cx="34" cy="364.6563" fill="#FEFECE" filter="url(#ff764s23fil1l)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M34,372.6563 L34,399.6563 M21,380.6563 L47,380.6563 M34,399.6563 L21,414.6563 M34,399.6563 L47,414.6563 " fill="none" filter="url(#ff764s23fil1l)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="224" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="231" y="70.9951">admin-api</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="224" y="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="231" y="358.3545">admin-api</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="426" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="433" y="70.9951">payment-processor</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="426" y="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="433" y="358.3545">payment-processor</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="647" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="654" y="70.9951">Storage</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="647" y="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="654" y="358.3545">Storage</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="731" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="738" y="70.9951">Stripe</text><rect fill="#FEFECE" filter="url(#ff764s23fil1l)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="731" y="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="738" y="358.3545">Stripe</text><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="225.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="29" y="96.2969"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="203.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="264" y="117.4297"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="499" y="146.5625"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="679" y="233.9609"/><rect fill="#FFFFFF" filter="url(#ff764s23fil1l)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="175.6953"/><polygon fill="#A80036" points="252,113.4297,262,117.4297,252,121.4297,256,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="258" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="46" y="112.3638">POST /products (create product)</text><polygon fill="#A80036" points="487,142.5625,497,146.5625,487,150.5625,491,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="274" x2="493" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="281" y="141.4966">POST /products (create product)</text><polygon fill="#A80036" points="744,171.6953,754,175.6953,744,179.6953,748,175.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="509" x2="750" y1="175.6953" y2="175.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="516" y="170.6294">POST /v1/products (create product)</text><polygon fill="#A80036" points="520,200.8281,510,204.8281,520,208.8281,516,204.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="760" y1="204.8281" y2="204.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="526" y="199.7622">{prod-id}</text><polygon fill="#A80036" points="667,229.9609,677,233.9609,667,237.9609,671,233.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="509" x2="673" y1="233.9609" y2="233.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="516" y="228.895">Save product {prod-id}</text><polygon fill="#A80036" points="520,259.0938,510,263.0938,520,267.0938,516,263.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="683" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="526" y="258.0278">{sku}</text><polygon fill="#A80036" points="285,288.2266,275,292.2266,285,296.2266,281,292.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="279" x2="503" y1="292.2266" y2="292.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="291" y="287.1606">{sku}</text><polygon fill="#A80036" points="45,317.3594,35,321.3594,45,325.3594,41,321.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="268" y1="321.3594" y2="321.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="51" y="316.2935">{sku}</text><!--
@startuml

actor Admin
participant Admin

box "Prime"
    participant "admin-api"
    participant "payment-processor"
    participant Storage
end box
participant Stripe

activate Admin
    "Admin" -> "admin-api" : POST /products (create product)
    activate "admin-api"
    "admin-api" -> "payment-processor" : POST /products (create product)

    activate "payment-processor"
    "payment-processor" -> "Stripe" : POST /v1/products (create product)
    activate "Stripe"
    "Stripe" -> "payment-processor" : {prod-id}
    deactivate "Stripe"

    "payment-processor" -> "Storage" : Save product {prod-id}
    activate "Storage"
    "Storage" -> "payment-processor" : {sku}
    deactivate "Storage"

    "payment-processor" -> "admin-api" : {sku}
    deactivate "payment-processor"
    "admin-api" -> "Admin" : {sku}
    deactivate "admin-api"
deactivate Admin

@enduml

PlantUML version 1.2018.08(Sun Jun 24 14:31:00 CEST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_171-8u171-b11-0ubuntu0.17.10.1-b11
Operating System: Linux
OS Version: 4.13.0-46-generic
Default Encoding: UTF-8
Language: nb
Country: NO
--></g></svg>