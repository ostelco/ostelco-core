<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="317px" preserveAspectRatio="none" style="width:471px;height:317px;" version="1.1" viewBox="0 0 471 317" width="471px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m4hosuvembij" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="38.4883" y2="276.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="251" x2="251" y1="38.4883" y2="276.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="435.5" x2="435.5" y1="38.4883" y2="276.6621"/><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="23.5352">Client</text><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="275.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="296.1973">Client</text><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="222" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="229" y="23.5352">Stripe</text><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="222" y="275.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="229" y="296.1973">Stripe</text><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="407.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="414.5" y="23.5352">Prime</text><rect fill="#FEFECE" filter="url(#f1m4hosuvembij)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="407.5" y="275.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="414.5" y="296.1973">Prime</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="79" y1="69.7988" y2="69.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="69.7988" y2="82.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="79" y1="82.7988" y2="82.7988"/><polygon fill="#A80036" points="48,78.7988,38,82.7988,48,86.7988,44,82.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="44" y="65.0566">Collecting payment information</text><polygon fill="#A80036" points="239,108.1094,249,112.1094,239,116.1094,243,112.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="245" y1="112.1094" y2="112.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="44" y="107.3672">Checkout</text><polygon fill="#A80036" points="48,137.4199,38,141.4199,48,145.4199,44,141.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="250" y1="141.4199" y2="141.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="54" y="136.6777">{token}</text><polygon fill="#A80036" points="424,166.7305,434,170.7305,424,174.7305,428,170.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="430" y1="170.7305" y2="170.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="44" y="165.9883">Post /products {SKU, token}</text><polygon fill="#A80036" points="262,196.041,252,200.041,262,204.041,258,200.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="435" y1="200.041" y2="200.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="268" y="195.2988">Charge {token}</text><polygon fill="#A80036" points="424,225.3516,434,229.3516,424,233.3516,428,229.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="251" x2="430" y1="229.3516" y2="229.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="258" y="224.6094">Charge Object {id,result..}</text><polygon fill="#A80036" points="48,254.6621,38,258.6621,48,262.6621,44,258.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="435" y1="258.6621" y2="258.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="54" y="253.9199">{result}</text><!--
@startuml

Client -> Client : Collecting payment information
Client -> Stripe : Checkout
Stripe -> Client: {token}
Client -> Prime: Post /products {SKU, token}
Prime -> Stripe: Charge {token}
Stripe -> Prime: Charge Object {id,result..}
Prime -> Client: {result}

@enduml

PlantUML version 1.2018.05(Sat May 05 22:00:17 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.13.5
Default Encoding: UTF-8
Language: en
Country: NO
--></g></svg>