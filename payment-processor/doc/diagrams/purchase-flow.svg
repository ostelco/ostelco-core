<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="412px" preserveAspectRatio="none" style="width:465px;height:412px;" version="1.1" viewBox="0 0 465 412" width="465px" zoomAndPan="magnify"><defs><filter height="300%" id="f17ec0hqircec4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="86.4883" y2="324.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="245" x2="245" y1="86.4883" y2="324.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="429.5" x2="429.5" y1="86.4883" y2="324.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="8" y="83.5352">Client</text><ellipse cx="31" cy="13" fill="#FEFECE" filter="url(#f17ec0hqircec4)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31,21 L31,48 M18,29 L44,29 M31,48 L18,63 M31,48 L44,63 " fill="none" filter="url(#f17ec0hqircec4)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="8" y="337.1973">Client</text><ellipse cx="31" cy="350.1504" fill="#FEFECE" filter="url(#f17ec0hqircec4)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31,358.1504 L31,385.1504 M18,366.1504 L44,366.1504 M31,385.1504 L18,400.1504 M31,385.1504 L44,400.1504 " fill="none" filter="url(#f17ec0hqircec4)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f17ec0hqircec4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="216" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="223" y="71.5352">Stripe</text><rect fill="#FEFECE" filter="url(#f17ec0hqircec4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="216" y="323.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="223" y="344.1973">Stripe</text><rect fill="#FEFECE" filter="url(#f17ec0hqircec4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="401.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="408.5" y="71.5352">Prime</text><rect fill="#FEFECE" filter="url(#f17ec0hqircec4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="401.5" y="323.6621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="408.5" y="344.1973">Prime</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="73" y1="117.7988" y2="117.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="73" x2="73" y1="117.7988" y2="130.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="73" y1="130.7988" y2="130.7988"/><polygon fill="#A80036" points="42,126.7988,32,130.7988,42,134.7988,38,130.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="38" y="113.0566">Collecting payment information</text><polygon fill="#A80036" points="233,156.1094,243,160.1094,233,164.1094,237,160.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="239" y1="160.1094" y2="160.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="38" y="155.3672">Checkout</text><polygon fill="#A80036" points="42,185.4199,32,189.4199,42,193.4199,38,189.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36" x2="244" y1="189.4199" y2="189.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="48" y="184.6777">{token}</text><polygon fill="#A80036" points="418,214.7305,428,218.7305,418,222.7305,422,218.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="424" y1="218.7305" y2="218.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="38" y="213.9883">Post /products {SKU, token}</text><polygon fill="#A80036" points="256,244.041,246,248.041,256,252.041,252,248.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="250" x2="429" y1="248.041" y2="248.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="262" y="243.2988">Charge {token}</text><polygon fill="#A80036" points="418,273.3516,428,277.3516,418,281.3516,422,277.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="245" x2="424" y1="277.3516" y2="277.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="252" y="272.6094">Charge Object {id,result..}</text><polygon fill="#A80036" points="42,302.6621,32,306.6621,42,310.6621,38,306.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36" x2="429" y1="306.6621" y2="306.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="48" y="301.9199">{result}</text><!--
@startuml
actor Client
Client -> Client : Collecting payment information
Client -> Stripe : Checkout
Stripe - -> Client: {token}
Client -> Prime: Post /products {SKU, token}
Prime -> Stripe: Charge {token}
Stripe - -> Prime: Charge Object {id,result..}
Prime - -> Client: {result}

@enduml

PlantUML version 1.2018.05(Sat May 05 22:00:17 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.13.5
Default Encoding: UTF-8
Language: en
Country: NO
--></g></svg>