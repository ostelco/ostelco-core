@startuml

actor Admin
participant Admin

box "Prime"
    participant "admin-api"
    participant "payment-processor"
    participant Storage
end box
participant Stripe

activate Admin
    "Admin" -> "admin-api" : POST /products (create product)
    activate "admin-api"
    "admin-api" -> "payment-processor" : POST /products (create product)

    activate "payment-processor"
    "payment-processor" -> "Stripe" : POST /v1/products (create product)
    activate "Stripe"
    "Stripe" -> "payment-processor" : {prod-id}
    deactivate "Stripe"

    "payment-processor" -> "Storage" : Save product {prod-id}
    activate "Storage"
    "Storage" -> "payment-processor" : {sku}
    deactivate "Storage"

    "payment-processor" -> "admin-api" : {sku}
    deactivate "payment-processor"
    "admin-api" -> "Admin" : {sku}
    deactivate "admin-api"
deactivate Admin

@enduml
